#!/bin/sh

### Changelog #################################################################

# 17/09/2005 - [lucasvr] Using CompatibilityList from the host machine on cross-compiling
# 23/08/2005 - [lucasvr] removed 'source GoboPath' to better deal with CrossCompile
# 11/08/2005 - [lucasvr] First version

if [ "$#" != "1" ]
then
   echo "Syntax: $0 <package name>"
   exit 1
fi

function search_packages() {
   for package in $1
   do
      if [ -d "$goboPrograms/$package" ]
      then
         echo "$package"
	 return
      fi
   done
   return
}

if [ "$crossPrefixDir" != "" ]
then
   # Use CompatibilityList from the host machine
   goboSettings=`echo $goboSettings | sed "s%$crossPrefixDir%%g"`
fi

file="$goboSettings/Scripts/CompatibilityList"
if [ -r "$file" ]
then cat "$file" | while read line
   do
      package=`echo "$line" | cut -d: -f1`
      if [ "$package" = "$1" ]
      then
         search_packages "$line"
      fi
   done
fi
